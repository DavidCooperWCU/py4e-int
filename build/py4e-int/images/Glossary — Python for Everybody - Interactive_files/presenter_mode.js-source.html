<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title><title><no title></title></title>
  <meta http-equiv="content-type" content="text/html; charset=None">
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css">
</head>
<body>
<h2><title><no title></title></h2>

<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">codeExercises</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">presenterCssLink</span>
<span class="kd">var</span> <span class="nx">presentModeInitialized</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">presentToggle</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nx">presentModeInitialized</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nx">presentModeSetup</span><span class="p">();</span>
    <span class="nx">presentModeInitialized</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">let</span> <span class="nx">bod</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">);</span>
  <span class="kd">let</span> <span class="nx">presentClass</span> <span class="o">=</span> <span class="s1">&#39;present&#39;</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">fullHeightClass</span> <span class="o">=</span> <span class="s1">&#39;full-height&#39;</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">bottomClass</span> <span class="o">=</span> <span class="s1">&#39;bottom&#39;</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">bod</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">presentClass</span><span class="p">)){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.section *&#39;</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="s1">&#39;h1, .presentation-title, .btn-presenter, .runestone, .runestone *, .section, .pre, code&#39;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">);</span> <span class="c1">//show everything</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#completionButton&#39;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">);</span>
    <span class="nx">bod</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">presentClass</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="o">+</span><span class="nx">fullHeightClass</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">fullHeightClass</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="o">+</span><span class="nx">bottomClass</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">bottomClass</span><span class="p">);</span>
    <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">&quot;presentMode&quot;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">);</span>
    <span class="nx">codeExercises</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">);</span>
    <span class="nx">presenterCssLink</span><span class="p">.</span><span class="nx">disabled</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>  <span class="c1">// disable present_mode.css</span>
  <span class="p">}</span>
  <span class="k">else</span><span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.section *&#39;</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="s1">&#39;h1, .presentation-title, .btn-presenter, .runestone, .runestone *, .section, .pre, code&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">);</span> <span class="c1">// hide extraneous stuff</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#completionButton&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">);</span>
    <span class="nx">bod</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">presentClass</span><span class="p">);</span>
    <span class="nx">bod</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">fullHeightClass</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;html&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">fullHeightClass</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.section .runestone&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">fullHeightClass</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.ac-caption&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">bottomClass</span><span class="p">);</span>
    <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">&quot;presentMode&quot;</span><span class="p">,</span> <span class="nx">presentClass</span><span class="p">);</span>
    <span class="nx">loadPresenterCss</span><span class="p">();</span> <span class="c1">// present_mode.css should only apply when in presenter mode.</span>
    <span class="nx">activateExercise</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">loadPresenterCss</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">presenterCssLink</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;link&#39;</span><span class="p">);</span>
  <span class="nx">presenterCssLink</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text/css&#39;</span><span class="p">;</span>
  <span class="nx">presenterCssLink</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="s1">&#39;../_static/presenter_mode.css&#39;</span><span class="p">;</span>
  <span class="nx">presenterCssLink</span><span class="p">.</span><span class="nx">rel</span><span class="o">=</span><span class="s1">&#39;stylesheet&#39;</span><span class="p">;</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">presenterCssLink</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">presentModeSetup</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// moved this out of configure</span>
  <span class="kd">let</span> <span class="nx">dataComponent</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;[data-childcomponent]&quot;</span><span class="p">);</span>

  <span class="c1">// this still leaves some things semi-messed up when you exit presenter mode.</span>
  <span class="c1">// but instructors will probably just learn to refresh the page.</span>
  <span class="nx">dataComponent</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;runestone&#39;</span><span class="p">);</span>
  <span class="nx">dataComponent</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="s1">&#39;.section&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;runestone&#39;</span><span class="p">)</span>
  <span class="nx">dataComponent</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;max-width&quot;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">);</span>

  <span class="nx">dataComponent</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">me</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.ac_code_div, .ac_output&#39;</span><span class="p">).</span><span class="nx">wrapAll</span><span class="p">(</span><span class="s2">&quot;&lt;div class=&#39;ac-block&#39;&gt;&lt;/div&gt;&quot;</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">codelensListener</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.section img&#39;</span><span class="p">).</span><span class="nx">wrap</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;runestone&quot;&gt;&#39;</span><span class="p">)</span>
  <span class="nx">codeExercises</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.runestone&#39;</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="s1">&#39;.runestone .runestone&#39;</span><span class="p">);</span>
  <span class="c1">// codeExercises.each(function(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">).</span><span class="nx">before</span><span class="p">(</span>
      <span class="s2">&quot;&lt;div class=&#39;presentation-title&#39;&gt; \</span>
<span class="s2">        &lt;button class=&#39;prev-exercise btn-presenter btn-grey-outline&#39; onclick=&#39;prevExercise()&#39;&gt;Back&lt;/button&gt; \</span>
<span class="s2">        &lt;button class=&#39;next-exercise btn-presenter btn-grey-solid&#39; onclick=&#39;nextExercise()&#39;&gt;Next&lt;/button&gt; \</span>
<span class="s2">      &lt;/div&gt;&quot;</span>
    <span class="p">);</span>

<span class="p">}</span>
<span class="kd">function</span> <span class="nx">getActiveExercise</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">active</span> <span class="o">=</span> <span class="nx">codeExercises</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;.active&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">activateExercise</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">){</span>
    <span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">let</span> <span class="nx">active</span> <span class="o">=</span> <span class="nx">getActiveExercise</span><span class="p">();</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">codeExercises</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">active</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
    <span class="nx">active</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">codeExercises</span><span class="p">[</span><span class="nx">index</span><span class="p">]).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
    <span class="nx">active</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">);</span>
    <span class="nx">codeExercises</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="nx">codeExercises</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;.active&#39;</span><span class="p">)).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;hidden&#39;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">nextExercise</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">active</span> <span class="o">=</span> <span class="nx">getActiveExercise</span><span class="p">();</span>
  <span class="kd">let</span> <span class="nx">nextIndex</span> <span class="o">=</span> <span class="nx">codeExercises</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="nx">active</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">nextIndex</span> <span class="o">&lt;</span> <span class="nx">codeExercises</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
    <span class="nx">activateExercise</span><span class="p">(</span><span class="nx">nextIndex</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">prevExercise</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">active</span> <span class="o">=</span> <span class="nx">getActiveExercise</span><span class="p">();</span>
  <span class="kd">let</span> <span class="nx">prevIndex</span> <span class="o">=</span> <span class="nx">codeExercises</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span><span class="nx">active</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">prevIndex</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">){</span>
    <span class="nx">activateExercise</span><span class="p">(</span><span class="nx">prevIndex</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">configure</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">rightNav</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.navbar-right&#39;</span><span class="p">);</span>
  <span class="nx">rightNav</span><span class="p">.</span><span class="nx">prepend</span><span class="p">(</span>
    <span class="s2">&quot;&lt;li class=&#39;dropdown view-toggle&#39;&gt; \</span>
<span class="s2">      &lt;label&gt;View: \</span>
<span class="s2">        &lt;select class=&#39;mode-select&#39;&gt; \</span>
<span class="s2">          &lt;option value=&#39;text&#39;&gt;Textbook&lt;/option&gt; \</span>
<span class="s2">          &lt;option value=&#39;present&#39;&gt;Code Presenter&lt;/option&gt; \</span>
<span class="s2">        &lt;/select&gt; \</span>
<span class="s2">      &lt;/label&gt; \</span>
<span class="s2">    &lt;/li&gt;&quot;</span><span class="p">);</span>

  <span class="kd">let</span> <span class="nx">modeSelect</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.mode-select&#39;</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="nx">presentToggle</span><span class="p">);</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">codelensListener</span><span class="p">(</span><span class="nx">duration</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// $(&quot;.ExecutionVisualizer&quot;).length ? configureCodelens() : setTimeout(codelensListener, duration);</span>
  <span class="c1">// configureCodelens();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">configureCodelens</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">acCodeTitle</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;h4&quot;</span><span class="p">);</span>
  <span class="nx">acCodeTitle</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">&quot;Active Code Window&quot;</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">acCode</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.ac_code_div&#39;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;col-md-12&#39;</span><span class="p">)</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.ac_code_div&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;col-md-6&#39;</span><span class="p">);</span>
  <span class="nx">acCode</span><span class="p">.</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">acCodeTitle</span><span class="p">);</span>

  <span class="nx">acOutTitle</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;h4&quot;</span><span class="p">);</span>
  <span class="nx">acOutTitle</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">&quot;Output Window&quot;</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">acOut</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.ac_output&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;col-md-6&#39;</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.ac_output&#39;</span><span class="p">).</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">acOutTitle</span><span class="p">);</span>

  <span class="kd">let</span> <span class="nx">sketchpadTitle</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;h4&quot;</span><span class="p">);</span>
  <span class="nx">sketchpadTitle</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s2">&quot;Sketchpad&quot;</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">sketchpad</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">(</span><span class="nx">sketchpad</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;sketchpad&#39;</span><span class="p">);</span>
  <span class="kd">let</span> <span class="nx">sketchpadContainer</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">(</span><span class="nx">sketchpadContainer</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">&quot;sketchpad-container&quot;</span><span class="p">);</span>
  <span class="nx">sketchpadContainer</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">sketchpadTitle</span><span class="p">);</span>
  <span class="nx">sketchpadContainer</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">sketchpad</span><span class="p">);</span>
  <span class="c1">//$(&#39;.ac_output&#39;).append(sketchpadContainer);</span>

  <span class="kd">let</span> <span class="nx">visualizers</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.ExecutionVisualizer&quot;</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Econtainer: &#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">eContainer</span><span class="p">);</span>

  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;[data-childcomponent]&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="s1">&#39;button.row-mode&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;[data-childcomponent]&#39;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;card-mode&#39;</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;[data-childcomponent]&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;row-mode&#39;</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">next</span><span class="p">(</span><span class="s1">&#39;.card-mode&#39;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;active-layout&#39;</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;active-layout&#39;</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;[data-childcomponent]&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="s1">&#39;button.card-mode&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;[data-childcomponent]&#39;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;row-mode&#39;</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;[data-childcomponent]&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;card-mode&#39;</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">prev</span><span class="p">(</span><span class="s1">&#39;.row-mode&#39;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;active-layout&#39;</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;active-layout&#39;</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;[data-childcomponent] .ac_section&#39;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">prepend</span><span class="p">(</span><span class="s1">&#39;&lt;div class=&quot;presentation-options&quot;&gt;&lt;button class=&quot;row-mode layout-btn&quot;&gt;&lt;img src=&quot;../_images/row-btn-content.png&quot; alt=&quot;Rows&quot;&gt;&lt;/button&gt;&lt;button class=&quot;card-mode layout-btn&quot;&gt;&lt;img src=&quot;../_images/card-btn-content.png&quot; alt=&quot;Card&quot;&gt;&lt;/button&gt;&lt;/div&gt;&#39;</span><span class="p">);</span>
  <span class="p">})</span>

  <span class="nx">visualizers</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">me</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">col1</span> <span class="o">=</span> <span class="nx">me</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;#vizLayoutTdFirst&#39;</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">col2</span> <span class="o">=</span> <span class="nx">me</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;#vizLayoutTdSecond&#39;</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">dataVis</span> <span class="o">=</span> <span class="nx">me</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;#dataViz&quot;</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">stackHeapTable</span> <span class="o">=</span> <span class="nx">me</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;#stackHeapTable&quot;</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">output</span> <span class="o">=</span> <span class="nx">me</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;#progOutputs&quot;</span><span class="p">);</span>
    <span class="nx">output</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">,</span> <span class="s1">&#39;block&#39;</span><span class="p">);</span>
    <span class="nx">me</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">prepend</span><span class="p">(</span><span class="s2">&quot;&lt;div class=&#39;presentation-title&#39;&gt;&lt;div class=&#39;title-text&#39;&gt; Example &quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&lt;/div&gt;&lt;/div&gt;&quot;</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">acCode</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">section</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;.ac-block&#39;</span><span class="p">).</span><span class="nx">parent</span><span class="p">();</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">section</span><span class="p">,</span> <span class="nx">section</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
    <span class="nx">section</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">sketchpadContainer</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;button.card-mode&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">();</span>

  <span class="kd">let</span> <span class="nx">modeSelect</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.mode-select&#39;</span><span class="p">)</span>
  <span class="kd">let</span> <span class="nx">mode</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s2">&quot;presentMode&quot;</span><span class="p">);</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">mode</span> <span class="o">==</span> <span class="s1">&#39;present&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">modeSelect</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">&#39;present&#39;</span><span class="p">);</span>
    <span class="nx">modeSelect</span><span class="p">.</span><span class="nx">change</span><span class="p">();</span>
  <span class="p">}</span>

<span class="p">}</span>

<span class="c1">//$(document).ready(configure);</span>
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;runestone:login-complete&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// if user is instructor, enable presenter mode</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">eBookConfig</span><span class="p">.</span><span class="nx">isInstructor</span><span class="p">){</span>
     <span class="nx">configure</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</body>
</html>
