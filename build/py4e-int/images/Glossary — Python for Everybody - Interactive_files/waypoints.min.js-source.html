<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title><title><no title></title></title>
  <meta http-equiv="content-type" content="text/html; charset=None">
  <link rel="stylesheet" href="..\..\_static\pygments.css" type="text/css">
</head>
<body>
<h2><title><no title></title></h2>

<div class="highlight"><pre><span></span><span class="c1">// Generated by CoffeeScript 1.4.0</span>
<span class="cm">/*</span>
<span class="cm">jQuery Waypoints - v2.0.2</span>
<span class="cm">Copyright (c) 2011-2013 Caleb Troughton</span>
<span class="cm">Dual licensed under the MIT license and GPL license.</span>
<span class="cm">https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt</span>
<span class="cm">*/</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="p">[].</span><span class="nx">indexOf</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span> <span class="k">in</span> <span class="k">this</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">===</span><span class="nx">t</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="k">return</span><span class="o">-</span><span class="mi">1</span><span class="p">},</span><span class="nx">e</span><span class="o">=</span><span class="p">[].</span><span class="nx">slice</span><span class="p">;(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">define</span><span class="o">===</span><span class="s2">&quot;function&quot;</span><span class="o">&amp;&amp;</span><span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="p">){</span><span class="k">return</span> <span class="nx">define</span><span class="p">(</span><span class="s2">&quot;waypoints&quot;</span><span class="p">,[</span><span class="s2">&quot;jquery&quot;</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">t</span><span class="p">)})}</span><span class="k">else</span><span class="p">{</span><span class="k">return</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">,</span><span class="nx">t</span><span class="p">)}})(</span><span class="k">this</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">v</span><span class="p">,</span><span class="nx">w</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">m</span><span class="p">;</span><span class="nx">i</span><span class="o">=</span><span class="nx">n</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span><span class="nx">c</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="s2">&quot;ontouchstart&quot;</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="nx">s</span><span class="o">=</span><span class="p">{</span><span class="nx">horizontal</span><span class="o">:</span><span class="p">{},</span><span class="nx">vertical</span><span class="o">:</span><span class="p">{}};</span><span class="nx">f</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="p">{};</span><span class="nx">u</span><span class="o">=</span><span class="s2">&quot;waypoints-context-id&quot;</span><span class="p">;</span><span class="nx">p</span><span class="o">=</span><span class="s2">&quot;resize.waypoints&quot;</span><span class="p">;</span><span class="nx">y</span><span class="o">=</span><span class="s2">&quot;scroll.waypoints&quot;</span><span class="p">;</span><span class="nx">v</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">w</span><span class="o">=</span><span class="s2">&quot;waypoints-waypoint-ids&quot;</span><span class="p">;</span><span class="nx">g</span><span class="o">=</span><span class="s2">&quot;waypoint&quot;</span><span class="p">;</span><span class="nx">m</span><span class="o">=</span><span class="s2">&quot;waypoints&quot;</span><span class="p">;</span><span class="nx">o</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">t</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">$element</span><span class="o">=</span><span class="nx">t</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">this</span><span class="p">.</span><span class="nx">didResize</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">didScroll</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="s2">&quot;context&quot;</span><span class="o">+</span><span class="nx">f</span><span class="o">++</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScroll</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">(),</span><span class="nx">y</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">()};</span><span class="k">this</span><span class="p">.</span><span class="nx">waypoints</span><span class="o">=</span><span class="p">{</span><span class="nx">horizontal</span><span class="o">:</span><span class="p">{},</span><span class="nx">vertical</span><span class="o">:</span><span class="p">{}};</span><span class="nx">t</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">u</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span><span class="nx">a</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">y</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">didScroll</span><span class="o">||</span><span class="nx">c</span><span class="p">)){</span><span class="nx">e</span><span class="p">.</span><span class="nx">didScroll</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span><span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">doScroll</span><span class="p">();</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">didScroll</span><span class="o">=</span><span class="kc">false</span><span class="p">};</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">[</span><span class="nx">m</span><span class="p">].</span><span class="nx">settings</span><span class="p">.</span><span class="nx">scrollThrottle</span><span class="p">)}});</span><span class="nx">t</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">didResize</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">didResize</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span><span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">n</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="s2">&quot;refresh&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">didResize</span><span class="o">=</span><span class="kc">false</span><span class="p">};</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">[</span><span class="nx">m</span><span class="p">].</span><span class="nx">settings</span><span class="p">.</span><span class="nx">resizeThrottle</span><span class="p">)}})}</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">doScroll</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">t</span><span class="o">=</span><span class="p">{</span><span class="nx">horizontal</span><span class="o">:</span><span class="p">{</span><span class="nx">newScroll</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">$element</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">(),</span><span class="nx">oldScroll</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">forward</span><span class="o">:</span><span class="s2">&quot;right&quot;</span><span class="p">,</span><span class="nx">backward</span><span class="o">:</span><span class="s2">&quot;left&quot;</span><span class="p">},</span><span class="nx">vertical</span><span class="o">:</span><span class="p">{</span><span class="nx">newScroll</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">$element</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">(),</span><span class="nx">oldScroll</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">forward</span><span class="o">:</span><span class="s2">&quot;down&quot;</span><span class="p">,</span><span class="nx">backward</span><span class="o">:</span><span class="s2">&quot;up&quot;</span><span class="p">}};</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">t</span><span class="p">.</span><span class="nx">vertical</span><span class="p">.</span><span class="nx">oldScroll</span><span class="o">||!</span><span class="nx">t</span><span class="p">.</span><span class="nx">vertical</span><span class="p">.</span><span class="nx">newScroll</span><span class="p">)){</span><span class="nx">n</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="s2">&quot;refresh&quot;</span><span class="p">)}</span><span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">l</span><span class="p">;</span><span class="nx">l</span><span class="o">=</span><span class="p">[];</span><span class="nx">o</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">newScroll</span><span class="o">&gt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">;</span><span class="nx">i</span><span class="o">=</span><span class="nx">o</span><span class="o">?</span><span class="nx">r</span><span class="p">.</span><span class="nx">forward</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">backward</span><span class="p">;</span><span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">waypoints</span><span class="p">[</span><span class="nx">t</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">oldScroll</span><span class="o">&lt;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">offset</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="o">&lt;=</span><span class="nx">r</span><span class="p">.</span><span class="nx">newScroll</span><span class="p">){</span><span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">)}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">newScroll</span><span class="o">&lt;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">offset</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">&lt;=</span><span class="nx">r</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">){</span><span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">)}});</span><span class="nx">l</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">offset</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">offset</span><span class="p">});</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">o</span><span class="p">){</span><span class="nx">l</span><span class="p">.</span><span class="nx">reverse</span><span class="p">()}</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">continuous</span><span class="o">||</span><span class="nx">t</span><span class="o">===</span><span class="nx">l</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">trigger</span><span class="p">([</span><span class="nx">i</span><span class="p">])}})});</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">oldScroll</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">horizontal</span><span class="p">.</span><span class="nx">newScroll</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">vertical</span><span class="p">.</span><span class="nx">newScroll</span><span class="p">}};</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">refresh</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">r</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">);</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">$element</span><span class="p">.</span><span class="nx">offset</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">doScroll</span><span class="p">();</span><span class="nx">t</span><span class="o">=</span><span class="p">{</span><span class="nx">horizontal</span><span class="o">:</span><span class="p">{</span><span class="nx">contextOffset</span><span class="o">:</span><span class="nx">r</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">left</span><span class="p">,</span><span class="nx">contextScroll</span><span class="o">:</span><span class="nx">r</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">contextDimension</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">$element</span><span class="p">.</span><span class="nx">width</span><span class="p">(),</span><span class="nx">oldScroll</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">forward</span><span class="o">:</span><span class="s2">&quot;right&quot;</span><span class="p">,</span><span class="nx">backward</span><span class="o">:</span><span class="s2">&quot;left&quot;</span><span class="p">,</span><span class="nx">offsetProp</span><span class="o">:</span><span class="s2">&quot;left&quot;</span><span class="p">},</span><span class="nx">vertical</span><span class="o">:</span><span class="p">{</span><span class="nx">contextOffset</span><span class="o">:</span><span class="nx">r</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">contextScroll</span><span class="o">:</span><span class="nx">r</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">contextDimension</span><span class="o">:</span><span class="nx">r</span><span class="o">?</span><span class="nx">n</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="s2">&quot;viewportHeight&quot;</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">$element</span><span class="p">.</span><span class="nx">height</span><span class="p">(),</span><span class="nx">oldScroll</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">forward</span><span class="o">:</span><span class="s2">&quot;down&quot;</span><span class="p">,</span><span class="nx">backward</span><span class="o">:</span><span class="s2">&quot;up&quot;</span><span class="p">,</span><span class="nx">offsetProp</span><span class="o">:</span><span class="s2">&quot;top&quot;</span><span class="p">}};</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">waypoints</span><span class="p">[</span><span class="nx">t</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">f</span><span class="p">;</span><span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">offset</span><span class="p">;</span><span class="nx">l</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">offset</span><span class="p">;</span><span class="nx">o</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">element</span><span class="p">)</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">$element</span><span class="p">.</span><span class="nx">offset</span><span class="p">()[</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetProp</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">i</span><span class="p">)){</span><span class="nx">i</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">element</span><span class="p">)}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">i</span><span class="o">===</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;%&quot;</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">contextDimension</span><span class="o">*</span><span class="nx">i</span><span class="o">/</span><span class="mi">100</span><span class="p">)}}</span><span class="nx">r</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="nx">o</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">contextOffset</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">contextScroll</span><span class="o">-</span><span class="nx">i</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">onlyOnScroll</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="o">!=</span><span class="kc">null</span><span class="o">||!</span><span class="nx">r</span><span class="p">.</span><span class="nx">enabled</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="o">!==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="o">&lt;</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="o">&lt;=</span><span class="nx">r</span><span class="p">.</span><span class="nx">offset</span><span class="p">){</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">trigger</span><span class="p">([</span><span class="nx">e</span><span class="p">.</span><span class="nx">backward</span><span class="p">])}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="o">!==</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="o">&gt;=</span><span class="nx">r</span><span class="p">.</span><span class="nx">offset</span><span class="p">){</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">trigger</span><span class="p">([</span><span class="nx">e</span><span class="p">.</span><span class="nx">forward</span><span class="p">])}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="o">===</span><span class="kc">null</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">oldScroll</span><span class="o">&gt;=</span><span class="nx">r</span><span class="p">.</span><span class="nx">offset</span><span class="p">){</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">trigger</span><span class="p">([</span><span class="nx">e</span><span class="p">.</span><span class="nx">forward</span><span class="p">])}})})};</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">checkEmpty</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">isEmptyObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">waypoints</span><span class="p">.</span><span class="nx">horizontal</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">isEmptyObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">waypoints</span><span class="p">.</span><span class="nx">vertical</span><span class="p">)){</span><span class="k">this</span><span class="p">.</span><span class="nx">$element</span><span class="p">.</span><span class="nx">unbind</span><span class="p">([</span><span class="nx">p</span><span class="p">,</span><span class="nx">y</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">));</span><span class="k">return</span> <span class="k">delete</span> <span class="nx">a</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">]}};</span><span class="k">return</span> <span class="nx">t</span><span class="p">}();</span><span class="nx">l</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">t</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">o</span><span class="p">;</span><span class="nx">r</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span><span class="nx">n</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">defaults</span><span class="p">,</span><span class="nx">r</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">offset</span><span class="o">===</span><span class="s2">&quot;bottom-in-view&quot;</span><span class="p">){</span><span class="nx">r</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">;</span><span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="s2">&quot;viewportHeight&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">)){</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">$element</span><span class="p">.</span><span class="nx">height</span><span class="p">()}</span><span class="k">return</span> <span class="nx">t</span><span class="o">-</span><span class="nx">n</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">outerHeight</span><span class="p">()}}</span><span class="k">this</span><span class="p">.</span><span class="nx">$element</span><span class="o">=</span><span class="nx">t</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">this</span><span class="p">.</span><span class="nx">axis</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">horizontal</span><span class="o">?</span><span class="s2">&quot;horizontal&quot;</span><span class="o">:</span><span class="s2">&quot;vertical&quot;</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">callback</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">handler</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">enabled</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">enabled</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="s2">&quot;waypoints&quot;</span><span class="o">+</span><span class="nx">v</span><span class="o">++</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="o">=</span><span class="nx">r</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">waypoints</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">axis</span><span class="p">][</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">s</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">axis</span><span class="p">][</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">i</span><span class="o">=</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">w</span><span class="p">))</span><span class="o">!=</span><span class="kc">null</span><span class="o">?</span><span class="nx">o</span><span class="o">:</span><span class="p">[];</span><span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span><span class="nx">i</span><span class="p">)}</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trigger</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">enabled</span><span class="p">){</span><span class="k">return</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">callback</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">triggerOnce</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">destroy</span><span class="p">()}};</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">disable</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">enabled</span><span class="o">=</span><span class="kc">false</span><span class="p">};</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">enable</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">enabled</span><span class="o">=</span><span class="kc">true</span><span class="p">};</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">destroy</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">delete</span> <span class="nx">s</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">axis</span><span class="p">][</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">];</span><span class="k">delete</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">waypoints</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">axis</span><span class="p">][</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">];</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">checkEmpty</span><span class="p">()};</span><span class="nx">t</span><span class="p">.</span><span class="nx">getWaypointsByElement</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="nx">r</span><span class="o">=</span><span class="nx">n</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="nx">w</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">r</span><span class="p">){</span><span class="k">return</span><span class="p">[]}</span><span class="nx">e</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span><span class="nx">s</span><span class="p">.</span><span class="nx">horizontal</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">vertical</span><span class="p">);</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">]})};</span><span class="k">return</span> <span class="nx">t</span><span class="p">}();</span><span class="nx">d</span><span class="o">=</span><span class="p">{</span><span class="nx">init</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="p">{}}</span><span class="k">if</span><span class="p">((</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">handler</span><span class="p">)</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">handler</span><span class="o">=</span><span class="nx">t</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">;</span><span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">i</span><span class="o">=</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">context</span><span class="p">)</span><span class="o">!=</span><span class="kc">null</span><span class="o">?</span><span class="nx">s</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">context</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">i</span><span class="p">)){</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="nx">i</span><span class="p">)}</span><span class="nx">i</span><span class="o">=</span><span class="nx">n</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="nx">r</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">u</span><span class="p">)];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">r</span><span class="p">){</span><span class="nx">r</span><span class="o">=</span><span class="k">new</span> <span class="nx">o</span><span class="p">(</span><span class="nx">i</span><span class="p">)}</span><span class="k">return</span> <span class="k">new</span> <span class="nx">l</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">e</span><span class="p">)});</span><span class="nx">n</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="s2">&quot;refresh&quot;</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">disable</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_invoke</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;disable&quot;</span><span class="p">)},</span><span class="nx">enable</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_invoke</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;enable&quot;</span><span class="p">)},</span><span class="nx">destroy</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_invoke</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;destroy&quot;</span><span class="p">)},</span><span class="nx">prev</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_traverse</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">])}})},</span><span class="nx">next</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">_traverse</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="nx">e</span><span class="o">+</span><span class="mi">1</span><span class="p">])}})},</span><span class="nx">_traverse</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">o</span><span class="p">,</span><span class="nx">l</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">t</span><span class="o">=</span><span class="s2">&quot;vertical&quot;</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">r</span><span class="p">}</span><span class="nx">l</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">aggregate</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="nx">o</span><span class="o">=</span><span class="p">[];</span><span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="nx">e</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="nx">t</span><span class="p">]);</span><span class="k">return</span> <span class="nx">i</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="nx">t</span><span class="p">])});</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">o</span><span class="p">)},</span><span class="nx">_invoke</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">;</span><span class="nx">t</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">getWaypointsByElement</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="nx">n</span><span class="p">[</span><span class="nx">e</span><span class="p">]();</span><span class="k">return</span> <span class="kc">true</span><span class="p">})});</span><span class="k">return</span> <span class="k">this</span><span class="p">}};</span><span class="nx">n</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="nx">r</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">t</span><span class="o">=</span><span class="mi">2</span><span class="o">&lt;=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="nx">d</span><span class="p">[</span><span class="nx">r</span><span class="p">]){</span><span class="k">return</span> <span class="nx">d</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">r</span><span class="p">)){</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">r</span><span class="p">)){</span><span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,[</span><span class="kc">null</span><span class="p">,</span><span class="nx">r</span><span class="p">])}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">r</span><span class="p">){</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;jQuery Waypoints needs a callback function or handler option.&quot;</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;The &quot;</span><span class="o">+</span><span class="nx">r</span><span class="o">+</span><span class="s2">&quot; method does not exist in jQuery Waypoints.&quot;</span><span class="p">)}};</span><span class="nx">n</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">g</span><span class="p">].</span><span class="nx">defaults</span><span class="o">=</span><span class="p">{</span><span class="nx">context</span><span class="o">:</span><span class="nx">r</span><span class="p">,</span><span class="nx">continuous</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span><span class="nx">enabled</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span><span class="nx">horizontal</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span><span class="nx">offset</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">triggerOnce</span><span class="o">:</span><span class="kc">false</span><span class="p">};</span><span class="nx">h</span><span class="o">=</span><span class="p">{</span><span class="nx">refresh</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">refresh</span><span class="p">()})},</span><span class="nx">viewportHeight</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">;</span><span class="k">return</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">)</span><span class="o">!=</span><span class="kc">null</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="p">()},</span><span class="nx">aggregate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="nx">e</span><span class="o">=</span><span class="nx">s</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">n</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="nx">u</span><span class="p">)])</span><span class="o">!=</span><span class="kc">null</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">waypoints</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">[]}</span><span class="nx">r</span><span class="o">=</span><span class="p">{</span><span class="nx">horizontal</span><span class="o">:</span><span class="p">[],</span><span class="nx">vertical</span><span class="o">:</span><span class="p">[]};</span><span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">)});</span><span class="nx">i</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">offset</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">offset</span><span class="p">});</span><span class="nx">r</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">});</span><span class="k">return</span> <span class="nx">r</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">unique</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">t</span><span class="p">])});</span><span class="k">return</span> <span class="nx">r</span><span class="p">},</span><span class="nx">above</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">t</span><span class="o">=</span><span class="nx">r</span><span class="p">}</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">_filter</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">offset</span><span class="o">&lt;=</span><span class="nx">t</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">.</span><span class="nx">y</span><span class="p">})},</span><span class="nx">below</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">t</span><span class="o">=</span><span class="nx">r</span><span class="p">}</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">_filter</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">offset</span><span class="o">&gt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">.</span><span class="nx">y</span><span class="p">})},</span><span class="nx">left</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">t</span><span class="o">=</span><span class="nx">r</span><span class="p">}</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">_filter</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">offset</span><span class="o">&lt;=</span><span class="nx">t</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">.</span><span class="nx">x</span><span class="p">})},</span><span class="nx">right</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">==</span><span class="kc">null</span><span class="p">){</span><span class="nx">t</span><span class="o">=</span><span class="nx">r</span><span class="p">}</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">_filter</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">offset</span><span class="o">&gt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">oldScroll</span><span class="p">.</span><span class="nx">x</span><span class="p">})},</span><span class="nx">enable</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">_invoke</span><span class="p">(</span><span class="s2">&quot;enable&quot;</span><span class="p">)},</span><span class="nx">disable</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">_invoke</span><span class="p">(</span><span class="s2">&quot;disable&quot;</span><span class="p">)},</span><span class="nx">destroy</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">_invoke</span><span class="p">(</span><span class="s2">&quot;destroy&quot;</span><span class="p">)},</span><span class="nx">extendFn</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">d</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">},</span><span class="nx">_invoke</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="nx">e</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span><span class="nx">s</span><span class="p">.</span><span class="nx">vertical</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">horizontal</span><span class="p">);</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="nx">n</span><span class="p">[</span><span class="nx">t</span><span class="p">]();</span><span class="k">return</span> <span class="kc">true</span><span class="p">})},</span><span class="nx">_filter</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">o</span><span class="p">;</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">n</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="nx">u</span><span class="p">)];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span><span class="p">[]}</span><span class="nx">o</span><span class="o">=</span><span class="p">[];</span><span class="nx">n</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">waypoints</span><span class="p">[</span><span class="nx">e</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">)){</span><span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">)}});</span><span class="nx">o</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">offset</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">offset</span><span class="p">});</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">})}};</span><span class="nx">n</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">;</span><span class="nx">n</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">t</span><span class="o">=</span><span class="mi">2</span><span class="o">&lt;=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">n</span><span class="p">]){</span><span class="k">return</span> <span class="nx">h</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">aggregate</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">n</span><span class="p">)}};</span><span class="nx">n</span><span class="p">[</span><span class="nx">m</span><span class="p">].</span><span class="nx">settings</span><span class="o">=</span><span class="p">{</span><span class="nx">resizeThrottle</span><span class="o">:</span><span class="mi">100</span><span class="p">,</span><span class="nx">scrollThrottle</span><span class="o">:</span><span class="mi">30</span><span class="p">};</span><span class="k">return</span> <span class="nx">i</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">n</span><span class="p">[</span><span class="nx">m</span><span class="p">](</span><span class="s2">&quot;refresh&quot;</span><span class="p">)})})}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</pre></div>
</body>
</html>
